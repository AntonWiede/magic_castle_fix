<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="453" height="898"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="453" height="898"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="12pt" font-style="normal" font-weight="normal" text-decoration="normal" x="54.33834013666666" y="18.8483115" text-anchor="start" dominant-baseline="alphabetic">Magic Castle Cluster Provisioning with Cloud-Init</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 73.75972567 L 36.20565097865234 898.0592152699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 180.09374872832683 73.75972567 L 180.09374872832683 898.0592152699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 266.5439192319076 73.75972567 L 266.5439192319076 898.0592152699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 377.4909267556185 73.75972567 L 377.4909267556185 898.0592152699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray="9.665800769230769,4.188513666666666"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 6.282770500000002 39.83276497 L 66.12853145730469 39.83276497 L 66.12853145730469 73.75972567 L 6.282770500000002 73.75972567 L 6.282770500000002 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="19.916382485" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic">mgmt1</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 152.2346881349284 39.83276497 L 207.95280932172528 39.83276497 L 207.95280932172528 73.75972567 L 152.2346881349284 73.75972567 L 152.2346881349284 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="165.8683001199284" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic">login1</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 238.0888732259115 39.83276497 L 294.9989652379037 39.83276497 L 294.9989652379037 73.75972567 L 238.0888732259115 73.75972567 L 238.0888732259115 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="251.7224852109115" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic">node1</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 307.56450623790363 39.83276497 L 447.41734727333335 39.83276497 L 447.41734727333335 73.75972567 L 307.56450623790363 73.75972567 L 307.56450623790363 39.83276497 Z" stroke-miterlimit="10" stroke-width="2.01048656" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="321.19811822290364" y="61.19418466999999" text-anchor="start" dominant-baseline="alphabetic">puppet-magic_castle.git</text></g></g><g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="98.89080767" width="124.6209348830078" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="110.19979457" text-anchor="start" dominant-baseline="alphabetic">write terraform_data.yaml</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 115.22601097 L 86.46781497865234 115.22601097 L 86.46781497865234 127.79155197 L 38.299907811985676 127.79155197" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,127.79155197) translate(-36.20565097865234,-127.79155197)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 122.55590988666667 L 36.20565097865234 127.79155197 L 46.67693514531901 133.02719405333335 Z"/></g></g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="146.63986347000002" width="65.9910520705078" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="157.94885037000003" text-anchor="start" dominant-baseline="alphabetic">yum upgrade</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 162.97506677 L 86.46781497865234 162.97506677 L 86.46781497865234 175.54060777 L 38.299907811985676 175.54060777" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,175.54060777) translate(-36.20565097865234,-175.54060777)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 170.30496568666666 L 36.20565097865234 175.54060777 L 46.67693514531901 180.77624985333335 Z"/></g></g><g><g><rect fill="white" stroke="none" x="194.9629722449935" y="194.38891927000003" width="65.9910520705078" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="196.8478033949935" y="205.69790617000004" text-anchor="start" dominant-baseline="alphabetic">yum upgrade</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 180.09374872832683 210.72412257000002 L 230.3559127283268 210.72412257000002 L 230.3559127283268 223.28966357000002 L 182.18800556166016 223.28966357000002" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(180.09374872832683,223.28966357000002) translate(-180.09374872832683,-223.28966357000002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 190.5650328949935 218.05402148666667 L 180.09374872832683 223.28966357000002 L 190.5650328949935 228.52530565333336 Z"/></g></g><g><g><rect fill="white" stroke="none" x="281.4131427485743" y="242.13797507000004" width="65.9910520705078" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="283.2979738985743" y="253.44696197000005" text-anchor="start" dominant-baseline="alphabetic">yum upgrade</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 266.5439192319076 258.47317837 L 316.80608323190756 258.47317837 L 316.80608323190756 271.03871937 L 268.63817606524094 271.03871937" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(266.5439192319076,271.03871937) translate(-266.5439192319076,-271.03871937)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 277.0152033985743 265.8030772866667 L 266.5439192319076 271.03871937 L 277.0152033985743 276.27436145333337 Z"/></g></g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="289.88703087000005" width="103.8943723830078" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="301.19601777" text-anchor="start" dominant-baseline="alphabetic">Format data volumes</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 306.22223417000004 L 86.46781497865234 306.22223417000004 L 86.46781497865234 318.78777517000003 L 38.299907811985676 318.78777517000003" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,318.78777517000003) translate(-36.20565097865234,-318.78777517000003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 313.5521330866667 L 36.20565097865234 318.78777517000003 L 46.67693514531901 324.0234172533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="337.63608667000005" width="67.18300763691406" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="348.94507357000003" text-anchor="start" dominant-baseline="alphabetic">Install puppet</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 353.97128997000004 L 86.46781497865234 353.97128997000004 L 86.46781497865234 366.53683097000004 L 38.299907811985676 366.53683097000004" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,366.53683097000004) translate(-36.20565097865234,-366.53683097000004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 361.3011888866667 L 36.20565097865234 366.53683097000004 L 46.67693514531901 371.7724730533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="385.38514247000006" width="96.79982892597656" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="396.69412937000004" text-anchor="start" dominant-baseline="alphabetic">Install puppetserver</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 401.72034577000005 L 86.46781497865234 401.72034577000005 L 86.46781497865234 414.28588677000005 L 38.299907811985676 414.28588677000005" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,414.28588677000005) translate(-36.20565097865234,-414.28588677000005)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 409.0502446866667 L 36.20565097865234 414.28588677000005 L 46.67693514531901 419.5215288533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="194.9629722449935" y="433.13419827000007" width="67.18300763691406" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="196.8478033949935" y="444.44318517000005" text-anchor="start" dominant-baseline="alphabetic">Install puppet</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 180.09374872832683 449.46940157000006 L 230.3559127283268 449.46940157000006 L 230.3559127283268 462.03494257000006 L 182.18800556166016 462.03494257000006" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(180.09374872832683,462.03494257000006) translate(-180.09374872832683,-462.03494257000006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 190.5650328949935 456.7993004866667 L 180.09374872832683 462.03494257000006 L 190.5650328949935 467.2705846533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="281.4131427485743" y="480.8832540700001" width="67.18300763691406" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="283.2979738985743" y="492.19224097000006" text-anchor="start" dominant-baseline="alphabetic">Install puppet</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 266.5439192319076 497.21845737000007 L 316.80608323190756 497.21845737000007 L 316.80608323190756 509.78399837000006 L 268.63817606524094 509.78399837000006" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(266.5439192319076,509.78399837000006) translate(-266.5439192319076,-509.78399837000006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 277.0152033985743 504.5483562866667 L 266.5439192319076 509.78399837000006 L 277.0152033985743 515.0196404533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="528.63230987" width="111.04612104023437" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="539.94129677" text-anchor="start" dominant-baseline="alphabetic">puppet config autosign</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 544.96751317 L 86.46781497865234 544.96751317 L 86.46781497865234 557.53305417 L 38.299907811985676 557.53305417" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,557.53305417) translate(-36.20565097865234,-557.53305417)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 552.2974120866667 L 36.20565097865234 557.53305417 L 46.67693514531901 562.7686962533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="55.01316734850913" y="576.38136567" width="106.27306500996093" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="56.897998498509125" y="587.6903525700001" text-anchor="start" dominant-baseline="alphabetic">puppet waitforcertcert</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 180.09374872832683 592.71656897 L 38.299907811985676 592.71656897" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,592.71656897) translate(-36.20565097865234,-592.71656897)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 587.4809268866667 L 36.20565097865234 592.71656897 L 46.67693514531901 597.9522110533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="98.23825260029949" y="611.56488047" width="106.27306500996093" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="100.12308375029949" y="622.8738673700001" text-anchor="start" dominant-baseline="alphabetic">puppet waitforcertcert</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 266.5439192319076 627.90008377 L 38.299907811985676 627.90008377" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,627.90008377) translate(-36.20565097865234,-627.90008377)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 622.6644416866667 L 36.20565097865234 627.90008377 L 46.67693514531901 633.1357258533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="71.33113349838541" y="646.7483952700001" width="271.0343107375" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="73.21596464838541" y="658.0573821700001" text-anchor="start" dominant-baseline="alphabetic">git clone to /etc/puppetalbs/code/environment/production</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 663.08359857 L 375.3966699222851 663.08359857" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(377.4909267556185,663.08359857) translate(-377.4909267556185,-663.08359857)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 367.0196425889518 657.8479564866667 L 377.4909267556185 663.08359857 L 367.0196425889518 668.3192406533334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="681.93191007" width="109.84374372089843" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="693.24089697" text-anchor="start" dominant-baseline="alphabetic">install puppet modules</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 698.26711337 L 86.46781497865234 698.26711337 L 86.46781497865234 710.83265437 L 38.299907811985676 710.83265437" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,710.83265437) translate(-36.20565097865234,-710.83265437)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 705.5970122866667 L 36.20565097865234 710.83265437 L 46.67693514531901 716.0682964533333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="51.07487449531901" y="729.6809658699999" width="33.995492378125" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.959705645319005" y="740.98995277" text-anchor="start" dominant-baseline="alphabetic">reboot</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 36.20565097865234 746.0161691699999 L 86.46781497865234 746.0161691699999 L 86.46781497865234 758.58171017 L 38.299907811985676 758.58171017" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(36.20565097865234,758.58171017) translate(-36.20565097865234,-758.58171017)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 46.67693514531901 753.3460680866666 L 36.20565097865234 758.58171017 L 46.67693514531901 763.8173522533333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="194.9629722449935" y="777.4300216699999" width="33.995492378125" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="196.8478033949935" y="788.7390085699999" text-anchor="start" dominant-baseline="alphabetic">reboot</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 180.09374872832683 793.7652249699998 L 230.3559127283268 793.7652249699998 L 230.3559127283268 806.3307659699999 L 182.18800556166016 806.3307659699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(180.09374872832683,806.3307659699999) translate(-180.09374872832683,-806.3307659699999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 190.5650328949935 801.0951238866666 L 180.09374872832683 806.3307659699999 L 190.5650328949935 811.5664080533332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="281.4131427485743" y="825.1790774699998" width="33.995492378125" height="16.3352033"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="283.2979738985743" y="836.4880643699998" text-anchor="start" dominant-baseline="alphabetic">reboot</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 266.5439192319076 841.5142807699998 L 316.80608323190756 841.5142807699998 L 316.80608323190756 854.0798217699999 L 268.63817606524094 854.0798217699999" stroke-miterlimit="10" stroke-width="1.0471284166666666" stroke-dasharray=""/><g transform="translate(266.5439192319076,854.0798217699999) translate(-266.5439192319076,-854.0798217699999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 277.0152033985743 848.8441796866665 L 266.5439192319076 854.0798217699999 L 277.0152033985743 859.3154638533332 Z"/></g></g></g><g/><g/><g/><g/></g></svg>